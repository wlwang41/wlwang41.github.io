<!DOCTYPE HTML>
<html>
    <head>
        <link rel="Stylesheet" type="text/css" href="/static/css/style.css">
        <link rel="Stylesheet" type="text/css" href="/static/css/tango.css">
        <title>command tricks - crow coffin</title>
        <meta name="keywords" content="python web"/>
        <meta name="description" content="Learning in the hard way."/>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body>
        <div id="header">
            <ul>
                <li>
                    <a href="/" style="color: wheat;border-right: solid 1px gray;">crow coffin</a>
                </li>
                <li>
                    <a href="https://github.com/wlwang41" target="_blank">my github</a>
                </li>
                <li>
                    <a href="http://about.me/wlwang41" target="_blank">about.me</a>
                </li>
                <li>
                    <a href="http://aboutcrow.herokuapp.com/" target="_blank">resume</a>
                </li>
                <li>
                    <a href="mailto:wlwang41@gmail.com">email</a>
                </li>
            </ul>
        </div>
        <div id="container">
            
    <div id="content_header">
        <div id="post-nav">
            
            <a href="/">Home</a> » <a href="/#tools">tools</a> » command tricks
            
        </div>
    </div>
    <div class="clearfix"></div>
    <div id="title">command tricks</div>
    <div id="content">
        <ul>
<li>
<p>查看目录结构</p>
<div class="hlcode"><pre><span class="n">tree</span>
</pre></div>


<blockquote>
<p>mac默认是没有tree命令的，所以可以有2种办法:</p>
</blockquote>
<ol>
<li><code>brew install tree</code></li>
<li><code>find . -print | sed -e 's;[^/]*/;|____;g;s;____|; |;g'</code></li>
</ol>
</li>
<li>
<p>查看代码有多少行</p>
<div class="hlcode"><pre><span class="n">find</span> <span class="p">.</span> <span class="o">-</span><span class="n">name</span> <span class="s">&quot;*.py&quot;</span> <span class="o">|</span> <span class="n">xargs</span> <span class="n">wc</span> <span class="o">-</span><span class="n">l</span>
</pre></div>


</li>
<li>
<p>删除所有的pyc文件</p>
<div class="hlcode"><pre><span class="n">find</span> <span class="p">.</span> <span class="o">-</span><span class="n">name</span> <span class="s">&quot;*.pyc&quot;</span> <span class="o">-</span><span class="n">delete</span>
</pre></div>


</li>
<li>
<p>返回到上一个目录</p>
<div class="hlcode"><pre><span class="n">cd</span> <span class="o">-</span>
</pre></div>


</li>
<li>
<p>生成随机数</p>
<div class="hlcode"><pre><span class="n">jot</span> <span class="o">-</span><span class="n">r</span> <span class="p">[</span><span class="n">number_of_numbers</span><span class="p">]</span> <span class="p">[</span><span class="n">lower_limit</span><span class="p">]</span> <span class="p">[</span><span class="n">upper_limit</span><span class="p">]</span>
</pre></div>


</li>
<li>
<p>显示当前谁登陆到了你的系统</p>
<div class="hlcode"><pre><span class="n">w</span>
</pre></div>


</li>
<li>
<p>将一个字符串打印很多次</p>
<div class="hlcode"><pre><span class="n">yes</span> <span class="p">[</span><span class="n">string</span><span class="p">]</span>
</pre></div>


</li>
<li>
<p>更好看的git log</p>
<div class="hlcode"><pre><span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">abbrev</span><span class="o">-</span><span class="n">commit</span> <span class="o">--</span><span class="n">decorate</span> <span class="o">--</span><span class="n">date</span><span class="o">=</span><span class="n">relative</span> <span class="o">--</span><span class="n">format</span><span class="o">=</span><span class="n">format</span><span class="o">:</span><span class="err">&#39;</span><span class="o">%</span><span class="n">C</span><span class="p">(</span><span class="n">bold</span> <span class="n">blue</span><span class="p">)</span><span class="o">%</span><span class="n">h</span><span class="o">%</span><span class="n">C</span><span class="p">(</span><span class="n">reset</span><span class="p">)</span> <span class="o">-</span> <span class="o">%</span><span class="n">C</span><span class="p">(</span><span class="n">bold</span> <span class="n">green</span><span class="p">)(</span><span class="o">%</span><span class="n">ar</span><span class="p">)</span><span class="o">%</span><span class="n">C</span><span class="p">(</span><span class="n">reset</span><span class="p">)</span> <span class="o">%</span><span class="n">C</span><span class="p">(</span><span class="n">white</span><span class="p">)</span><span class="o">%</span><span class="n">s</span><span class="o">%</span><span class="n">C</span><span class="p">(</span><span class="n">reset</span><span class="p">)</span> <span class="o">%</span><span class="n">C</span><span class="p">(</span><span class="n">dim</span> <span class="n">white</span><span class="p">)</span><span class="o">-</span> <span class="o">%</span><span class="n">an</span><span class="o">%</span><span class="n">C</span><span class="p">(</span><span class="n">reset</span><span class="p">)</span><span class="o">%</span><span class="n">C</span><span class="p">(</span><span class="n">bold</span> <span class="n">yellow</span><span class="p">)</span><span class="o">%</span><span class="n">d</span><span class="o">%</span><span class="n">C</span><span class="p">(</span><span class="n">reset</span><span class="p">)</span><span class="err">&#39;</span> <span class="o">--</span><span class="n">all</span>
</pre></div>


</li>
<li>
<p>更好看的git log(带详细信息)</p>
<div class="hlcode"><pre><span class="n">git</span> <span class="n">log</span> <span class="o">--</span><span class="n">graph</span> <span class="o">--</span><span class="n">abbrev</span><span class="o">-</span><span class="n">commit</span> <span class="o">--</span><span class="n">decorate</span> <span class="o">--</span><span class="n">date</span><span class="o">=</span><span class="n">relative</span> <span class="o">--</span><span class="n">format</span><span class="o">=</span><span class="n">format</span><span class="o">:</span><span class="err">&#39;</span><span class="o">%</span><span class="n">C</span><span class="p">(</span><span class="n">bold</span> <span class="n">blue</span><span class="p">)</span><span class="o">%</span><span class="n">h</span><span class="o">%</span><span class="n">C</span><span class="p">(</span><span class="n">reset</span><span class="p">)</span> <span class="o">-</span> <span class="o">%</span><span class="n">C</span><span class="p">(</span><span class="n">bold</span> <span class="n">green</span><span class="p">)(</span><span class="o">%</span><span class="n">ar</span><span class="p">)</span><span class="o">%</span><span class="n">C</span><span class="p">(</span><span class="n">reset</span><span class="p">)</span> <span class="o">%</span><span class="n">C</span><span class="p">(</span><span class="n">white</span><span class="p">)</span><span class="o">%</span><span class="n">s</span><span class="o">%</span><span class="n">C</span><span class="p">(</span><span class="n">reset</span><span class="p">)</span> <span class="o">%</span><span class="n">C</span><span class="p">(</span><span class="n">dim</span> <span class="n">white</span><span class="p">)</span><span class="o">-</span> <span class="o">%</span><span class="n">an</span><span class="o">%</span><span class="n">C</span><span class="p">(</span><span class="n">reset</span><span class="p">)</span><span class="o">%</span><span class="n">C</span><span class="p">(</span><span class="n">bold</span> <span class="n">yellow</span><span class="p">)</span><span class="o">%</span><span class="n">d</span><span class="o">%</span><span class="n">C</span><span class="p">(</span><span class="n">reset</span><span class="p">)</span><span class="err">&#39;</span> <span class="o">--</span><span class="n">all</span> <span class="o">-</span><span class="n">p</span>
</pre></div>


</li>
<li>
<p>curl相关命令</p>
<ul>
<li>
<p>直接输出到命令行</p>
<div class="hlcode"><pre><span class="n">curl</span> <span class="n">http</span><span class="o">:</span><span class="c1">//www.centos.org</span>
</pre></div>


</li>
<li>
<p>输出到指定文件</p>
<div class="hlcode"><pre><span class="n">curl</span> <span class="o">-</span><span class="n">o</span> <span class="n">mygettext</span><span class="p">.</span><span class="n">html</span> <span class="n">http</span><span class="o">:</span><span class="c1">//www.gnu.org/software/gettext/manual/gettext.html</span>
</pre></div>


<p>or 直接用url里面的文件名</p>
<div class="hlcode"><pre><span class="n">curl</span> <span class="o">-</span><span class="n">O</span> <span class="n">http</span><span class="o">:</span><span class="c1">//www.gnu.org/software/gettext/manual/gettext.html</span>
</pre></div>


</li>
<li>
<p>允许redirects</p>
<div class="hlcode"><pre><span class="n">curl</span> <span class="o">-</span><span class="n">L</span> <span class="n">http</span><span class="o">:</span><span class="c1">//www.google.com</span>
</pre></div>


</li>
<li>
<p>断点续传</p>
<div class="hlcode"><pre><span class="n">curl</span> <span class="o">-</span><span class="n">C</span> <span class="o">-</span> <span class="o">-</span><span class="n">O</span> <span class="n">http</span><span class="o">:</span><span class="c1">//www.gnu.org/software/gettext/manual/gettext.html</span>
</pre></div>


<blockquote>
<p>也可指定续传的位置</p>
</blockquote>
</li>
<li>
<p>限定下载速度</p>
<div class="hlcode"><pre><span class="n">curl</span> <span class="o">--</span><span class="n">limit</span><span class="o">-</span><span class="n">rate</span> <span class="mi">1000</span><span class="n">B</span> <span class="o">-</span><span class="n">O</span> <span class="n">http</span><span class="o">:</span><span class="c1">//www.gnu.org/software/gettext/manual/gettext.html</span>
</pre></div>


</li>
<li>
<p>需要认证</p>
<div class="hlcode"><pre><span class="n">curl</span> <span class="o">-</span><span class="n">u</span> <span class="n">username</span><span class="o">:</span><span class="n">password</span> <span class="n">URL</span>
</pre></div>


</li>
<li>
<p>使用代理</p>
<div class="hlcode"><pre><span class="n">curl</span> <span class="o">-</span><span class="n">x</span> <span class="n">proxysever</span><span class="p">.</span><span class="n">test</span><span class="p">.</span><span class="n">com</span><span class="o">:</span><span class="mi">3128</span> <span class="n">http</span><span class="o">:</span><span class="c1">//google.co.in</span>
</pre></div>


</li>
<li>
<p>发邮件</p>
<div class="hlcode"><pre><span class="n">curl</span> <span class="o">--</span><span class="n">mail</span><span class="o">-</span><span class="n">from</span> <span class="n">blah</span><span class="err">@</span><span class="n">test</span><span class="p">.</span><span class="n">com</span> <span class="o">--</span><span class="n">mail</span><span class="o">-</span><span class="n">rcpt</span> <span class="n">foo</span><span class="err">@</span><span class="n">test</span><span class="p">.</span><span class="n">com</span> <span class="n">smtp</span><span class="o">:</span><span class="c1">//mailserver.com</span>
</pre></div>


<p>输入后，就可以开始写邮件内容， .表示结束</p>
<div class="hlcode"><pre><span class="n">Subject</span><span class="o">:</span> <span class="n">Testing</span>
<span class="n">This</span> <span class="k">is</span> <span class="n">a</span> <span class="n">test</span> <span class="n">mail</span>
<span class="o">.</span>
</pre></div>


</li>
<li>
<p>HTTP Method</p>
<div class="hlcode"><pre><span class="n">curl</span> <span class="o">--</span><span class="n">request</span> <span class="n">GET</span> <span class="err">&#39;</span><span class="n">http</span><span class="o">:</span><span class="c1">//www.somedomain.com/&#39;</span>
<span class="n">curl</span> <span class="o">--</span><span class="n">request</span> <span class="n">POST</span> <span class="err">&#39;</span><span class="n">http</span><span class="o">:</span><span class="c1">//www.somedomain.com/&#39;</span>
<span class="n">curl</span> <span class="o">--</span><span class="n">request</span> <span class="n">DELETE</span> <span class="err">&#39;</span><span class="n">http</span><span class="o">:</span><span class="c1">//www.somedomain.com/&#39;</span>
<span class="n">curl</span> <span class="o">--</span><span class="n">request</span> <span class="n">PUT</span> <span class="err">&#39;</span><span class="n">http</span><span class="o">:</span><span class="c1">//www.somedomain.com/&#39;</span>
<span class="o">*</span> <span class="err">传入参数</span>

<span class="n">curl</span> <span class="o">--</span><span class="n">request</span> <span class="n">POST</span> <span class="err">&#39;</span><span class="n">http</span><span class="o">:</span><span class="c1">//www.somedomain.com/login/&#39; --data &#39;username=myusername&amp;password=mypassword&#39;</span>
<span class="n">curl</span> <span class="o">--</span><span class="n">data</span><span class="o">-</span><span class="n">urlencode</span> <span class="s">&quot;date=April 1&quot;</span> <span class="err">&#39;</span><span class="n">http</span><span class="o">:</span><span class="c1">//example.com/form.cgi&#39;</span>
</pre></div>


<p>上传文件:</p>
<div class="hlcode"><pre><span class="n">curl</span> <span class="o">--</span><span class="n">request</span> <span class="n">PUT</span> <span class="err">&#39;</span><span class="n">http</span><span class="o">:</span><span class="c1">//www.somedomain.com/rest-api/user/12345/&#39; --data @data.txt</span>
</pre></div>


</li>
<li>
<p>带上头部信息</p>
<div class="hlcode"><pre><span class="n">curl</span> <span class="o">--</span><span class="n">request</span> <span class="n">GET</span> <span class="err">&#39;</span><span class="n">http</span><span class="o">:</span><span class="c1">//www.somedomain.com/user/info/&#39; --header &#39;sessionid:1234567890987654321&#39;</span>
</pre></div>


<p>需要请求返回带上头信息:</p>
<div class="hlcode"><pre><span class="n">curl</span> <span class="o">--</span><span class="n">request</span> <span class="n">GET</span> <span class="err">&#39;</span><span class="n">http</span><span class="o">:</span><span class="c1">//somedomain.com/&#39; --include</span>
</pre></div>


<p><code>-I</code> 则是只显示头信息</p>
</li>
<li>
<p>获取详细返回结果</p>
<div class="hlcode"><pre><span class="n">curl</span> <span class="o">-</span><span class="n">v</span> <span class="err">&#39;</span><span class="n">http</span><span class="o">:</span><span class="c1">//somedomain.com/&#39;</span>
</pre></div>


<p>还不够详细？</p>
<div class="hlcode"><pre><span class="n">curl</span> <span class="o">--</span><span class="n">trace</span> <span class="n">output</span><span class="p">.</span><span class="n">txt</span> <span class="err">&#39;</span><span class="n">http</span><span class="o">:</span><span class="c1">//somedomain.com/&#39;</span>
</pre></div>


<p>or</p>
<div class="hlcode"><pre><span class="n">curl</span> <span class="o">--</span><span class="n">trace</span><span class="o">-</span><span class="n">ascii</span> <span class="n">output</span><span class="p">.</span><span class="n">txt</span> <span class="err">&#39;</span><span class="n">http</span><span class="o">:</span><span class="c1">//somedomain.com/&#39;</span>
</pre></div>


</li>
<li>
<p>提供referer信息</p>
<div class="hlcode"><pre><span class="n">curl</span> <span class="o">--</span><span class="n">referer</span> <span class="err">&#39;</span><span class="n">http</span><span class="o">:</span><span class="c1">//www.example.com http://www.example.com&#39;</span>
</pre></div>


</li>
<li>
<p>UA</p>
<div class="hlcode"><pre><span class="n">curl</span> <span class="o">--</span><span class="n">user</span><span class="o">-</span><span class="n">agent</span> <span class="s">&quot;[User Agent]&quot;</span> <span class="p">[</span><span class="n">URL</span><span class="p">]</span>
</pre></div>


</li>
<li>
<p>cookie</p>
<div class="hlcode"><pre><span class="n">curl</span> <span class="o">--</span><span class="n">cookie</span> <span class="s">&quot;name=xxx&quot;</span> <span class="n">www</span><span class="p">.</span><span class="n">example</span><span class="p">.</span><span class="n">com</span>
</pre></div>


</li>
<li>
<p>带host访问</p>
<div class="hlcode"><pre><span class="n">curl</span> <span class="o">-</span><span class="n">H</span> <span class="err">&#39;</span><span class="n">Host</span><span class="o">:</span> <span class="n">project1</span><span class="p">.</span><span class="n">loc</span><span class="sc">&#39; &#39;</span><span class="n">http</span><span class="o">:</span><span class="c1">//127.0.0.1/something&#39;</span>
</pre></div>


</li>
</ul>
</li>
<li>
<p>命令行打开任一程序(限OSX)</p>
<div class="hlcode"><pre><span class="n">open</span> <span class="o">/</span><span class="n">Applications</span><span class="o">/</span><span class="n">Safari</span><span class="p">.</span><span class="n">app</span><span class="o">/</span>
</pre></div>


<p>or 打开一个目录</p>
<div class="hlcode"><pre><span class="n">open</span> <span class="p">.</span>
</pre></div>


</li>
<li>
<p>粘贴复制(限OSX)</p>
<p>将一个文件内容拷贝到clipboard:</p>
<div class="hlcode"><pre><span class="n">pbcopy</span> <span class="o">&lt;</span> <span class="n">blogpost</span><span class="p">.</span><span class="n">txt</span>
</pre></div>


<p>将clipboard的内容追加到文件:</p>
<div class="hlcode"><pre><span class="n">pbpaste</span> <span class="o">&gt;&gt;</span> <span class="n">tasklist</span><span class="p">.</span><span class="n">txt</span>
</pre></div>


</li>
<li>
<p>截图(限OSX)</p>
<p>屏幕截图保存到image.png并发送到Mail中</p>
<div class="hlcode"><pre><span class="n">screencapture</span> <span class="o">-</span><span class="n">C</span> <span class="o">-</span><span class="n">M</span> <span class="n">image</span><span class="p">.</span><span class="n">png</span>
</pre></div>


<p>鼠标选择区域截图并保存到clipboard</p>
<div class="hlcode"><pre><span class="n">screencapture</span> <span class="o">-</span><span class="n">c</span> <span class="o">-</span><span class="n">W</span>
</pre></div>


<p>10秒之后截图并用Preview打开</p>
<div class="hlcode"><pre><span class="n">screencapture</span> <span class="o">-</span><span class="n">T</span> <span class="mi">10</span> <span class="o">-</span><span class="n">P</span> <span class="n">image</span><span class="p">.</span><span class="n">png</span>
</pre></div>


<p>鼠标截取任意区域内容,保存为pdf</p>
<div class="hlcode"><pre><span class="n">screencapture</span> <span class="o">-</span><span class="n">s</span> <span class="o">-</span><span class="n">t</span> <span class="n">pdf</span> <span class="n">image</span><span class="p">.</span><span class="n">pdf</span>
</pre></div>


</li>
<li>
<p>说出任意内容(限OSX)</p>
<div class="hlcode"><pre><span class="n">say</span> <span class="err">&#39;</span><span class="n">You</span> <span class="n">love</span> <span class="n">me</span><span class="p">.</span><span class="err">&#39;</span>
</pre></div>


</li>
</ul>
    </div>

        </div>
        <div id="footer">
            <span>
                Copyright © now-forever crow.
                Powered by <a href="https://github.com/wlwang41/cb" target="_blank">Cb</a>.
                UI by <a href="https://github.com/tankywoo/wiki.tankywoo.com">yasimple</a>
            </span>
        </div>
    </body>
</html>